
const nodemailer = require('nodemailer');


const transporter = nodemailer.createTransport({
  service: 'gmail',
  auth: {
    user: 'gocanadaexplore@gmail.com',
    pass: 'ykfysddkkfbicxjt',
  },
});

const send_invoice = (to,transaction_id,email,phone,amount,fullname, durations, items,date) =>{
  const mailOptions = {
    from: 'gocanadaexplore@mail.com',
    to,
    subject,
    html: `<html><body style="background-color:#e2e1e0;font-family:Open Sans,sans-serif;font-size:100%;font-weight:400;line-height:1.4;color:#000"><table style="max-width:670px;margin:50px auto 10px;background-color:#fff;padding:50px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);-moz-box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);border-top:solid 10px green"><thead><tr><th style=text-align:left><h2>GoCanadaExplore</h2><th style=text-align:right;font-weight:400>${date}<tbody><tr><td style=height:35px><tr><td style="border:solid 1px #ddd;padding:10px 20px"colspan=2><p style="font-size:14px;margin:0 0 6px 0"><span style=font-weight:700;display:inline-block;min-width:150px>Order status</span><b style=color:green;font-weight:400;margin:0>Success</b><p style="font-size:14px;margin:0 0 6px 0"><span style=font-weight:700;display:inline-block;min-width:146px>Transaction ID</span> ${transaction_id}<p style=font-size:14px;margin:0><span style=font-weight:700;display:inline-block;min-width:146px>Order amount</span> ${amount}<tr><td style=height:35px><tr><td style=width:50%;padding:20px;vertical-align:top><p style="margin:0 0 10px 0;padding:0;font-size:14px"><span style=display:block;font-weight:700;font-size:13px>Name</span> ${fullname}<p style="margin:0 0 10px 0;padding:0;font-size:14px"><span style=display:block;font-weight:700;font-size:13px>Email</span> ${email} <p style="margin:0 0 10px 0;padding:0;font-size:14px"><span style=display:block;font-weight:700;font-size:13px>Phone</span> ${phone}<p style="margin:0 0 10px 0;padding:0;font-size:14px"><td style=width:50%;padding:20px;vertical-align:top><p style="margin:0 0 10px 0;padding:0;font-size:14px"><p style="margin:0 0 10px 0;padding:0;font-size:14px"><span style=display:block;font-weight:700;font-size:13px>Number of gusets</span> 1<p style="margin:0 0 10px 0;padding:0;font-size:14px"><span style=display:block;font-weight:700;font-size:13px>Duration of your vacation</span> ${durations}<tr><td style="font-size:20px;padding:30px 15px 0 15px"colspan=2>Items<tr><td style=padding:15px colspan=2><p style="font-size:14px;margin:0;padding:10px;border:solid 1px #ddd;font-weight:700"><span style=display:block;font-size:13px;font-weight:400>Homestay with fooding & lodging</span> ${amount} <b style=font-size:12px;font-weight:300>/person/day</b><p style="font-size:14px;margin:0;padding:10px;border:solid 1px #ddd;font-weight:700"><span style=display:block;font-size:13px;font-weight:400>Pickup & Drop</span>  <b style=font-size:12px;font-weight:300>/person/day</b><p style="font-size:14px;margin:0;padding:10px;border:solid 1px #ddd;font-weight:700"><span style=display:block;font-size:13px;font-weight:400>Local site seeing with guide</span>  <b style=font-size:12px;font-weight:300>/person/day</b><p style="font-size:14px;margin:0;padding:10px;border:solid 1px #ddd;font-weight:700"><span style=display:block;font-size:13px;font-weight:400>Tea tourism with guide</span>  <b style=font-size:12px;font-weight:300>/person/day</b><p style="font-size:14px;margin:0;padding:10px;border:solid 1px #ddd;font-weight:700"><span style=display:block;font-size:13px;font-weight:400>River side camping with guide</span>  <b style=font-size:12px;font-weight:300>/person/day</b><p style="font-size:14px;margin:0;padding:10px;border:solid 1px #ddd;font-weight:700"><span style=display:block;font-size:13px;font-weight:400>Trackking and hiking with guide</span>  <b style=font-size:12px;font-weight:300>/person/day</b></tbody><tfooter><tr><td style="font-size:14px;padding:50px 15px 0 15px"colspan=2><strong style="display:block;margin:0 0 10px 0">Regards</strong> Gocanadaexplore<br><b>Email:</b> info@gocanadaexplore.com</tr></tfooter></table></body></html>`,
  };

  return new Promise((resolve, reject) => {
    transporter.sendMail(mailOptions, (error, info) => {
      if (error) {
        reject(error);
      } else {
       console.log(info.response);
        resolve(info.response);
      }
    });
  });
}
const send_email_welcome = (to) => {
  const subject = "Welcome to GoCanadaExplore";
  const mailOptions = {
    from: 'gocanadaexplore@mail.com',
    to,
    subject,
    html: `<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="x-apple-disable-message-reformatting"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="color-scheme" content="light dark"><meta name="supported-color-schemes" content="light dark"><title></title><style type="text/css" rel="stylesheet" media="all">@import url(https://fonts.googleapis.com/css?family=Nunito+Sans:400,700&display=swap);body{width:100%!important;height:100%;margin:0;-webkit-text-size-adjust:none}a{color:#3869d4}a img{border:none}td{word-break:break-word}.preheader{display:none!important;visibility:hidden;mso-hide:all;font-size:1px;line-height:1px;max-height:0;max-width:0;opacity:0;overflow:hidden}body,td,th{font-family:"Nunito Sans",Helvetica,Arial,sans-serif}h1{margin-top:0;color:#333;font-size:22px;font-weight:700;text-align:left}h2{margin-top:0;color:#333;font-size:16px;font-weight:700;text-align:left}h3{margin-top:0;color:#333;font-size:14px;font-weight:700;text-align:left}td,th{font-size:16px}blockquote,ol,p,ul{margin:.4em 0 1.1875em;font-size:16px;line-height:1.625}p.sub{font-size:13px}.align-right{text-align:right}.align-left{text-align:left}.align-center{text-align:center}.u-margin-bottom-none{margin-bottom:0}.button{background-color:#3869d4;border-top:10px solid #3869d4;border-right:18px solid #3869d4;border-bottom:10px solid #3869d4;border-left:18px solid #3869d4;display:inline-block;color:#fff;text-decoration:none;border-radius:3px;box-shadow:0 2px 3px rgba(0,0,0,.16);-webkit-text-size-adjust:none;box-sizing:border-box}.button--green{background-color:#22bc66;border-top:10px solid #22bc66;border-right:18px solid #22bc66;border-bottom:10px solid #22bc66;border-left:18px solid #22bc66}.button--red{background-color:#ff6136;border-top:10px solid #ff6136;border-right:18px solid #ff6136;border-bottom:10px solid #ff6136;border-left:18px solid #ff6136}@media only screen and (max-width:500px){.button{width:100%!important;text-align:center!important}}.attributes{margin:0 0 21px}.attributes_content{background-color:#f4f4f7;padding:16px}.attributes_item{padding:0}.related{width:100%;margin:0;padding:25px 0 0 0;-premailer-width:100%;-premailer-cellpadding:0;-premailer-cellspacing:0}.related_item{padding:10px 0;color:#cbcccf;font-size:15px;line-height:18px}.related_item-title{display:block;margin:.5em 0 0}.related_item-thumb{display:block;padding-bottom:10px}.related_heading{border-top:1px solid #cbcccf;text-align:center;padding:25px 0 10px}.discount{width:100%;margin:0;padding:24px;-premailer-width:100%;-premailer-cellpadding:0;-premailer-cellspacing:0;background-color:#f4f4f7;border:2px dashed #cbcccf}.discount_heading{text-align:center}.discount_body{text-align:center;font-size:15px}.social{width:auto}.social td{padding:0;width:auto}.social_icon{height:20px;margin:0 8px 10px 8px;padding:0}.purchase{width:100%;margin:0;padding:35px 0;-premailer-width:100%;-premailer-cellpadding:0;-premailer-cellspacing:0}.purchase_content{width:100%;margin:0;padding:25px 0 0 0;-premailer-width:100%;-premailer-cellpadding:0;-premailer-cellspacing:0}.purchase_item{padding:10px 0;color:#51545e;font-size:15px;line-height:18px}.purchase_heading{padding-bottom:8px;border-bottom:1px solid #eaeaec}.purchase_heading p{margin:0;color:#85878e;font-size:12px}.purchase_footer{padding-top:15px;border-top:1px solid #eaeaec}.purchase_total{margin:0;text-align:right;font-weight:700;color:#333}.purchase_total--label{padding:0 15px 0 0}body{background-color:#f2f4f6;color:#51545e}p{color:#51545e}.email-wrapper{width:100%;margin:0;padding:0;-premailer-width:100%;-premailer-cellpadding:0;-premailer-cellspacing:0;background-color:#f2f4f6}.email-content{width:100%;margin:0;padding:0;-premailer-width:100%;-premailer-cellpadding:0;-premailer-cellspacing:0}.email-masthead{padding:25px 0;text-align:center}.email-masthead_logo{width:94px}.email-masthead_name{font-size:16px;font-weight:700;color:#a8aaaf;text-decoration:none;text-shadow:0 1px 0 #fff}.email-body{width:100%;margin:0;padding:0;-premailer-width:100%;-premailer-cellpadding:0;-premailer-cellspacing:0}.email-body_inner{width:570px;margin:0 auto;padding:0;-premailer-width:570px;-premailer-cellpadding:0;-premailer-cellspacing:0;background-color:#fff}.email-footer{width:570px;margin:0 auto;padding:0;-premailer-width:570px;-premailer-cellpadding:0;-premailer-cellspacing:0;text-align:center}.email-footer p{color:#a8aaaf}.body-action{width:100%;margin:30px auto;padding:0;-premailer-width:100%;-premailer-cellpadding:0;-premailer-cellspacing:0;text-align:center}.body-sub{margin-top:25px;padding-top:25px;border-top:1px solid #eaeaec}.content-cell{padding:45px}@media only screen and (max-width:600px){.email-body_inner,.email-footer{width:100%!important}}@media (prefers-color-scheme:dark){.email-body,.email-body_inner,.email-content,.email-footer,.email-masthead,.email-wrapper,body{background-color:#333!important;color:#fff!important}.purchase_item,blockquote,h1,h2,h3,ol,p,span,ul{color:#fff!important}.attributes_content,.discount{background-color:#222!important}.email-masthead_name{text-shadow:none!important}}:root{color-scheme:light dark;supported-color-schemes:light dark}</style><!--[if mso]><style type="text/css">.f-fallback{font-family:Arial,sans-serif}</style><![endif]--></head><body><span class="preheader">Thanks for trying out GoCanadaExplore. We’ve pulled together some information and resources to help you get started.</span><table class="email-wrapper" width="100%" cellpadding="0" cellspacing="0" role="presentation"><tr><td align="center"><table class="email-content" width="100%" cellpadding="0" cellspacing="0" role="presentation"><tr><td class="email-masthead"><a href="https://gocanadaexplore.com" class="f-fallback email-masthead_name">GoCanadaExplore</a></td></tr><tr><td class="email-body" width="570" cellpadding="0" cellspacing="0"><table class="email-body_inner" align="center" width="570" cellpadding="0" cellspacing="0" role="presentation"><tr><td class="content-cell"><div class="f-fallback"><h1>Welcome!</h1><p>Thanks for trying GoCanadaExplore. We’re thrilled to have you on board. You will receive a mail soon that contain your invoice on our platform</p><p>If you have any questions, feel free to<a href="mailto:{{info@gocanadaexplore.com}}">email our customer success team</a>. (We're lightning quick at replying.)</p><p>Thanks,<br>Allen and the GoCanadaExplore team</p><p><strong>P.S.</strong>Need immediate help getting started? Check out our<a href="{{help_url}}">help documentation</a>. Or, just reply to this email, the GoCanadaExplore support team is always ready to help!</p><table class="body-sub" role="presentation"><tr><td></tr></table></div></td></tr></table></td></tr><tr><td><table class="email-footer" align="center" width="570" cellpadding="0" cellspacing="0" role="presentation"><tr><td class="content-cell" align="center"><p class="f-fallback sub align-center">GoCanadaExplore, LLC</p></td></tr></table></td></tr></table></td></tr></table></body></html>`,
  };

  return new Promise((resolve, reject) => {
    transporter.sendMail(mailOptions, (error, info) => {
      if (error) {
        reject(error);
      } else {
       console.log(info.response);
        resolve(info.response);
      }
    });
  });
};

const send_custom_email = (to,subject,message) => {
  const subject = "Welcome to GoCanadaExplore";
  const mailOptions = {
    from: 'gocanadaexplore@mail.com',
    to,
    subject,
    html: `<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="x-apple-disable-message-reformatting"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="color-scheme" content="light dark"><meta name="supported-color-schemes" content="light dark"><title></title><style type="text/css" rel="stylesheet" media="all">@import url(https://fonts.googleapis.com/css?family=Nunito+Sans:400,700&display=swap);body{width:100%!important;height:100%;margin:0;-webkit-text-size-adjust:none}a{color:#3869d4}a img{border:none}td{word-break:break-word}.preheader{display:none!important;visibility:hidden;mso-hide:all;font-size:1px;line-height:1px;max-height:0;max-width:0;opacity:0;overflow:hidden}body,td,th{font-family:"Nunito Sans",Helvetica,Arial,sans-serif}h1{margin-top:0;color:#333;font-size:22px;font-weight:700;text-align:left}h2{margin-top:0;color:#333;font-size:16px;font-weight:700;text-align:left}h3{margin-top:0;color:#333;font-size:14px;font-weight:700;text-align:left}td,th{font-size:16px}blockquote,ol,p,ul{margin:.4em 0 1.1875em;font-size:16px;line-height:1.625}p.sub{font-size:13px}.align-right{text-align:right}.align-left{text-align:left}.align-center{text-align:center}.u-margin-bottom-none{margin-bottom:0}.button{background-color:#3869d4;border-top:10px solid #3869d4;border-right:18px solid #3869d4;border-bottom:10px solid #3869d4;border-left:18px solid #3869d4;display:inline-block;color:#fff;text-decoration:none;border-radius:3px;box-shadow:0 2px 3px rgba(0,0,0,.16);-webkit-text-size-adjust:none;box-sizing:border-box}.button--green{background-color:#22bc66;border-top:10px solid #22bc66;border-right:18px solid #22bc66;border-bottom:10px solid #22bc66;border-left:18px solid #22bc66}.button--red{background-color:#ff6136;border-top:10px solid #ff6136;border-right:18px solid #ff6136;border-bottom:10px solid #ff6136;border-left:18px solid #ff6136}@media only screen and (max-width:500px){.button{width:100%!important;text-align:center!important}}.attributes{margin:0 0 21px}.attributes_content{background-color:#f4f4f7;padding:16px}.attributes_item{padding:0}.related{width:100%;margin:0;padding:25px 0 0 0;-premailer-width:100%;-premailer-cellpadding:0;-premailer-cellspacing:0}.related_item{padding:10px 0;color:#cbcccf;font-size:15px;line-height:18px}.related_item-title{display:block;margin:.5em 0 0}.related_item-thumb{display:block;padding-bottom:10px}.related_heading{border-top:1px solid #cbcccf;text-align:center;padding:25px 0 10px}.discount{width:100%;margin:0;padding:24px;-premailer-width:100%;-premailer-cellpadding:0;-premailer-cellspacing:0;background-color:#f4f4f7;border:2px dashed #cbcccf}.discount_heading{text-align:center}.discount_body{text-align:center;font-size:15px}.social{width:auto}.social td{padding:0;width:auto}.social_icon{height:20px;margin:0 8px 10px 8px;padding:0}.purchase{width:100%;margin:0;padding:35px 0;-premailer-width:100%;-premailer-cellpadding:0;-premailer-cellspacing:0}.purchase_content{width:100%;margin:0;padding:25px 0 0 0;-premailer-width:100%;-premailer-cellpadding:0;-premailer-cellspacing:0}.purchase_item{padding:10px 0;color:#51545e;font-size:15px;line-height:18px}.purchase_heading{padding-bottom:8px;border-bottom:1px solid #eaeaec}.purchase_heading p{margin:0;color:#85878e;font-size:12px}.purchase_footer{padding-top:15px;border-top:1px solid #eaeaec}.purchase_total{margin:0;text-align:right;font-weight:700;color:#333}.purchase_total--label{padding:0 15px 0 0}body{background-color:#f2f4f6;color:#51545e}p{color:#51545e}.email-wrapper{width:100%;margin:0;padding:0;-premailer-width:100%;-premailer-cellpadding:0;-premailer-cellspacing:0;background-color:#f2f4f6}.email-content{width:100%;margin:0;padding:0;-premailer-width:100%;-premailer-cellpadding:0;-premailer-cellspacing:0}.email-masthead{padding:25px 0;text-align:center}.email-masthead_logo{width:94px}.email-masthead_name{font-size:16px;font-weight:700;color:#a8aaaf;text-decoration:none;text-shadow:0 1px 0 #fff}.email-body{width:100%;margin:0;padding:0;-premailer-width:100%;-premailer-cellpadding:0;-premailer-cellspacing:0}.email-body_inner{width:570px;margin:0 auto;padding:0;-premailer-width:570px;-premailer-cellpadding:0;-premailer-cellspacing:0;background-color:#fff}.email-footer{width:570px;margin:0 auto;padding:0;-premailer-width:570px;-premailer-cellpadding:0;-premailer-cellspacing:0;text-align:center}.email-footer p{color:#a8aaaf}.body-action{width:100%;margin:30px auto;padding:0;-premailer-width:100%;-premailer-cellpadding:0;-premailer-cellspacing:0;text-align:center}.body-sub{margin-top:25px;padding-top:25px;border-top:1px solid #eaeaec}.content-cell{padding:45px}@media only screen and (max-width:600px){.email-body_inner,.email-footer{width:100%!important}}@media (prefers-color-scheme:dark){.email-body,.email-body_inner,.email-content,.email-footer,.email-masthead,.email-wrapper,body{background-color:#333!important;color:#fff!important}.purchase_item,blockquote,h1,h2,h3,ol,p,span,ul{color:#fff!important}.attributes_content,.discount{background-color:#222!important}.email-masthead_name{text-shadow:none!important}}:root{color-scheme:light dark;supported-color-schemes:light dark}</style><!--[if mso]><style type="text/css">.f-fallback{font-family:Arial,sans-serif}</style><![endif]--></head><body><span class="preheader">Thanks for trying out GoCanadaExplore. We’ve pulled together some information and resources to help you get started.</span><table class="email-wrapper" width="100%" cellpadding="0" cellspacing="0" role="presentation"><tr><td align="center"><table class="email-content" width="100%" cellpadding="0" cellspacing="0" role="presentation"><tr><td class="email-masthead"><a href="https://gocanadaexplore.com" class="f-fallback email-masthead_name">GoCanadaExplore</a></td></tr><tr><td class="email-body" width="570" cellpadding="0" cellspacing="0"><table class="email-body_inner" align="center" width="570" cellpadding="0" cellspacing="0" role="presentation"><tr><td class="content-cell"><div class="f-fallback"><h1>Welcome!</h1><p>${message}</p><p>If you have any questions, feel free to<a href="mailto:{{info@gocanadaexplore.com}}">email our customer success team</a>. (We're lightning quick at replying.)</p><p>Thanks,<br>Allen and the GoCanadaExplore team</p><table class="body-sub" role="presentation"><tr><td></tr></table></div></td></tr></table></td></tr><tr><td><table class="email-footer" align="center" width="570" cellpadding="0" cellspacing="0" role="presentation"><tr><td class="content-cell" align="center"><p class="f-fallback sub align-center">GoCanadaExplore, LLC</p></td></tr></table></td></tr></table></td></tr></table></body></html>`,
  };

  return new Promise((resolve, reject) => {
    transporter.sendMail(mailOptions, (error, info) => {
      if (error) {
        reject(error);
      } else {
       console.log(info.response);
        resolve(info.response);
      }
    });
  });
};
 

 

 

module.exports = {
  send_email_welcome,send_invoice, send_custom_email
};
